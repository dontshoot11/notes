(function(t){function o(o){for(var n,a,c=o[0],d=o[1],u=o[2],l=0,p=[];l<c.length;l++)a=c[l],Object.prototype.hasOwnProperty.call(s,a)&&s[a]&&p.push(s[a][0]),s[a]=0;for(n in d)Object.prototype.hasOwnProperty.call(d,n)&&(t[n]=d[n]);r&&r(o);while(p.length)p.shift()();return i.push.apply(i,u||[]),e()}function e(){for(var t,o=0;o<i.length;o++){for(var e=i[o],n=!0,c=1;c<e.length;c++){var d=e[c];0!==s[d]&&(n=!1)}n&&(i.splice(o--,1),t=a(a.s=e[0]))}return t}var n={},s={app:0},i=[];function a(o){if(n[o])return n[o].exports;var e=n[o]={i:o,l:!1,exports:{}};return t[o].call(e.exports,e,e.exports,a),e.l=!0,e.exports}a.m=t,a.c=n,a.d=function(t,o,e){a.o(t,o)||Object.defineProperty(t,o,{enumerable:!0,get:e})},a.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},a.t=function(t,o){if(1&o&&(t=a(t)),8&o)return t;if(4&o&&"object"===typeof t&&t&&t.__esModule)return t;var e=Object.create(null);if(a.r(e),Object.defineProperty(e,"default",{enumerable:!0,value:t}),2&o&&"string"!=typeof t)for(var n in t)a.d(e,n,function(o){return t[o]}.bind(null,n));return e},a.n=function(t){var o=t&&t.__esModule?function(){return t["default"]}:function(){return t};return a.d(o,"a",o),o},a.o=function(t,o){return Object.prototype.hasOwnProperty.call(t,o)},a.p="/";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],d=c.push.bind(c);c.push=o,c=c.slice();for(var u=0;u<c.length;u++)o(c[u]);var r=d;i.push([0,"chunk-vendors"]),e()})({0:function(t,o,e){t.exports=e("56d7")},"0930":function(t,o,e){},"0d28":function(t,o,e){},"247b":function(t,o,e){},"39a4":function(t,o,e){"use strict";var n=e("6848"),s=e.n(n);s.a},"56d7":function(t,o,e){"use strict";e.r(o);e("e260"),e("e6cf"),e("cca6"),e("a79d");var n=e("2b0e"),s=function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("div",{staticClass:"container"},[e("router-view")],1)},i=[],a={name:"App",data:function(){return{}}},c=a,d=(e("5c0b"),e("2877")),u=Object(d["a"])(c,s,i,!1,null,null,null),r=u.exports,l=e("2f62"),p=(e("4de4"),e("d81d"),{state:{notes:[]},mutations:{getNotes:function(t,o){t.notes=o},addNote:function(t,o){t.notes.push(o);var e=JSON.stringify(t.notes);localStorage.setItem("savedNotes",e)},editNote:function(t,o){t.notes=t.notes.map((function(t){return t.id===o.id&&(t=o),t}));var e=JSON.stringify(t.notes);localStorage.setItem("savedNotes",e)},deleteNote:function(t,o){t.notes=t.notes.filter((function(t){return t!==o}));var e=JSON.stringify(t.notes);localStorage.setItem("savedNotes",e)}}}),f=p;n["a"].use(l["a"]);var h=new l["a"].Store({modules:{notes:f}}),v=e("8c4f"),b=function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("div",{staticClass:"list-area"},[t._m(0),e("div",{staticClass:"navigation"},[e("router-link",{staticClass:"button",attrs:{to:"/edit"}},[t._v("новая заметка")])],1),e("ul",{staticClass:"list"},t._l(t.notes,(function(t){return e("li",{staticClass:"item"},[e("note",{attrs:{note:t},on:{"":function(t){}}})],1)})),0)])},_=[function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("div",{staticClass:"header"},[e("h1",{staticClass:"heading"},[t._v("заметки")])])}],m=(e("b0c0"),e("5530")),C=function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("div",{staticClass:"note"},[e("div",{staticClass:"note__content"},[e("div",{staticClass:"note__text"},[t._v(t._s(t.textPreview))]),e("ul",{staticClass:"note__todos"},t._l(t.todosPreview,(function(o){return e("li",{staticClass:"note__todo",class:{checked:o.checked}},[t._v(t._s(o.name))])})),0)]),e("div",{staticClass:"navigation"},[e("button",{staticClass:"button button--left"},[e("router-link",{attrs:{to:"/edit/"+t.note.id}},[t._v("открыть")])],1),e("button",{staticClass:"button",on:{click:t.openPopup}},[t._v("удалить")])]),t.isPopupNeeded?e("div",{staticClass:"popup"},[e("div",{staticClass:"popup__content"},[e("div",{staticClass:"popup__text"},[t._v("Вы уверены?")]),e("div",{staticClass:"popup__navigatiom"},[e("button",{staticClass:"button button--left",on:{click:t.grantPermission}},[t._v("да")]),e("button",{staticClass:"button",on:{click:t.closePopup}},[t._v("нет")])])])]):t._e()])},g=[],k=(e("fb6a"),{data:function(){return{isPopupNeeded:!1,permissionGranted:!1}},props:{note:{}},components:{},computed:{textPreview:function(){return this.note.text.slice(0,96)+"..."},todosPreview:function(){return this.note.todos.slice(0,3)}},methods:Object(m["a"])(Object(m["a"])({},Object(l["b"])(["deleteNote"])),{},{grantPermission:function(){this.permissionGranted=!0,this.isPopupNeeded=!1,this.deleteNote(this.note)},closePopup:function(){this.isPopupNeeded=!1},openPopup:function(){this.isPopupNeeded=!0}})}),x=k,T=(e("db9f"),Object(d["a"])(x,C,g,!1,null,"3c1b9fd3",null)),N=T.exports,O=0,j={data:function(){return{todo:{name:"",id:0,checked:!1}}},computed:Object(m["a"])({},Object(l["c"])({notes:function(t){return t.notes.notes}})),components:{note:N},methods:Object(m["a"])(Object(m["a"])({},Object(l["b"])(["getNotes"])),{},{deleteall:function(){localStorage.clear()},addTodo:function(){O++,this.todo.id=O,this.$emit("addTodo",Object(m["a"])({},this.todo)),this.todo.name=""},grabNotes:function(){var t=localStorage.getItem("savedNotes");if(t){var o=JSON.parse(t);this.getNotes(o)}}}),mounted:function(){this.grabNotes()}},y=j,P=(e("39a4"),Object(d["a"])(y,b,_,!1,null,"71c292d8",null)),w=P.exports,$=function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("div",{staticClass:"input-area"},[t._m(0),e("div",{staticClass:"navigation"},[e("button",{staticClass:"button button--left",on:{click:t.sendNote}},[t._v("сохранить")]),e("button",{staticClass:"button",on:{click:t.startAbort}},[t._v("отменить")])]),e("div",{staticClass:"inputs"},[e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.note.text,expression:"note.text"}],staticClass:"input input--textarea",attrs:{type:"text",placeholder:"Текст заметки"},domProps:{value:t.note.text},on:{input:function(o){o.target.composing||t.$set(t.note,"text",o.target.value)}}}),e("div",{staticClass:"inputs__todos"},[e("todoInput",{staticClass:"input input--todo",on:{addTodo:t.addTodo}}),e("todoList",{attrs:{todos:t.note.todos},on:{deleteTodo:t.deleteTodo}})],1)]),t.wantToAbort?e("div",{staticClass:"popup"},[e("div",{staticClass:"popup__content"},[e("div",{staticClass:"popup__text"},[t._v("Выйти без сохранения?")]),e("div",{staticClass:"popup__navigation"},[e("button",{staticClass:"button button--left",on:{click:t.abortChanges}},[t._v("да")]),e("button",{staticClass:"button",on:{click:t.abortAbort}},[t._v("нет")])])])]):t._e()])},E=[function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("div",{staticClass:"header"},[e("h2",{staticClass:"heading"},[t._v("создание заметки")])])}],A=function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("ul",{staticClass:"list"},t._l(t.todos,(function(o){return e("li",{staticClass:"item"},[e("todo",{class:{checked:o.checked},attrs:{todo:o},on:{deleteTodo:t.deleteTodo,checkTodo:t.editTodo,confirmEdit:t.editTodo}})],1)})),0)},S=[],I=function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("div",{staticClass:"todo"},[t.isEditMode?t._e():e("div",{staticClass:"todo__content"},[e("div",{staticClass:"todo__checkbox",class:{checked:t.todo.checked},on:{click:t.checkTodo}}),e("div",{staticClass:"todo__name"},[t._v(t._s(t.todo.name))])]),t.isEditMode?e("input",{directives:[{name:"model",rawName:"v-model",value:t.todo.name,expression:"todo.name"}],staticClass:"todo__input",attrs:{type:"text",autofocus:"",placeholder:"Добавьте задачу нажатием enter"},domProps:{value:t.todo.name},on:{keydown:function(o){return!o.type.indexOf("key")&&t._k(o.keyCode,"enter",13,o.key,"Enter")?null:t.confirmEdit(o)},input:function(o){o.target.composing||t.$set(t.todo,"name",o.target.value)}}}):t._e(),e("div",{staticClass:"navigation"},[t.isEditMode?e("button",{staticClass:"todo__button todo__button--confirm",on:{click:t.confirmEdit}},[t._v("✓")]):t._e(),t.isEditMode?t._e():e("button",{staticClass:"todo__button todo__button--edit",on:{click:t.editTodo}},[t._v("🛠")]),e("button",{staticClass:"todo__button todo__button--cross",on:{click:t.deleteTodo}},[t._v("+")])])])},M=[],B={data:function(){return{isEditMode:!1}},methods:{editTodo:function(){this.isEditMode=!0},deleteTodo:function(){this.$emit("deleteTodo",this.todo)},checkTodo:function(){this.todo.checked=!this.todo.checked,this.$emit("checkTodo",Object(m["a"])({},this.todo))},confirmEdit:function(){this.$emit("confirmEdit",Object(m["a"])({},this.todo)),this.isEditMode=!1}},props:{todo:{}},components:{}},J=B,L=(e("e884"),Object(d["a"])(J,I,M,!1,null,"84204558",null)),R=L.exports,U={props:{todos:Array},components:{todo:R},methods:{deleteTodo:function(t){this.$emit("deleteTodo",t)},editTodo:function(t){this.$emit("editTodo",t)}}},G=U,q=(e("94b8"),Object(d["a"])(G,A,S,!1,null,"df8a85dc",null)),z=q.exports,D=function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("div",{staticClass:"todo-input"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.todo.name,expression:"todo.name"}],attrs:{type:"text",placeholder:"Добавьте задачу нажатием enter"},domProps:{value:t.todo.name},on:{keydown:function(o){return!o.type.indexOf("key")&&t._k(o.keyCode,"enter",13,o.key,"Enter")?null:t.addTodo(o)},input:function(o){o.target.composing||t.$set(t.todo,"name",o.target.value)}}})])},F=[],H=0,K={data:function(){return{todo:{id:0,name:"",checked:!1}}},methods:{addTodo:function(){H++,this.todo.id=H,this.$emit("addTodo",Object(m["a"])({},this.todo)),this.todo.name=""}},components:{}},Q=K,V=Object(d["a"])(Q,D,F,!1,null,"5687823e",null),W=V.exports,X=0,Y={data:function(){return{note:{id:0,text:"",todos:[]},wantToAbort:!1}},mounted:function(){var t=localStorage.getItem("savedId");t&&(console.log(t),X=t)},methods:Object(m["a"])(Object(m["a"])({},Object(l["b"])(["addNote","editNote"])),{},{addTodo:function(t){this.note.todos.push(t)},deleteTodo:function(t){this.note.todos=this.note.todos.filter((function(o){return o!==t})),this.editNote(this.note)},sendNote:function(){X++,this.note.id=X;var t=this.note.id;localStorage.setItem("savedId",t),this.addNote(Object(m["a"])({},this.note)),this.note.text="",this.note.todos=[],this.$router.go(-1)},startAbort:function(){this.wantToAbort=!0},abortChanges:function(){this.$router.go(-1)},abortAbort:function(){this.wantToAbort=!1}}),components:{todoList:z,todoInput:W}},Z=Y,tt=(e("6adb"),Object(d["a"])(Z,$,E,!1,null,"171b59d5",null)),ot=tt.exports,et=function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("div",{staticClass:"input-area"},[t._m(0),e("div",{staticClass:"navigation"},[e("button",{staticClass:"button button--left",on:{click:t.sendNote}},[t._v("сохранить")]),e("button",{staticClass:"button button--left",on:{click:t.openPopup}},[t._v("удалить")]),e("button",{staticClass:"button",on:{click:t.startAbort}},[t._v("выйти")])]),e("div",{staticClass:"inputs"},[e("div",{staticClass:"inputs__textarea"},[e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.note.text,expression:"note.text"}],staticClass:"input input--textarea",attrs:{type:"text",placeholder:"Текст заметки"},domProps:{value:t.note.text},on:{input:[function(o){o.target.composing||t.$set(t.note,"text",o.target.value)},t.saveChanges]}}),t.showUndoRedo?e("div",{staticClass:"inputs__buttons"},[e("button",{staticClass:"button button--left",on:{click:t.getBackup}},[t._v("отменить")]),e("button",{staticClass:"button",on:{click:t.undoBackup}},[t._v("повторить")])]):t._e()]),e("div",{staticClass:"inputs__todos"},[e("todoInput",{staticClass:"input input--todo",on:{addTodo:t.addTodo}}),e("todoList",{attrs:{todos:t.note.todos},on:{deleteTodo:t.deleteTodo,editTodo:t.editTodo}})],1)]),t.isPopupNeeded?e("div",{staticClass:"popup"},[e("div",{staticClass:"popup__content"},[e("div",{staticClass:"popup__text"},[t._v("Вы уверены?")]),e("div",{staticClass:"popup__navigation"},[e("button",{staticClass:"button button--left",on:{click:t.grantPermission}},[t._v("да")]),e("button",{staticClass:"button",on:{click:t.closePopup}},[t._v("нет")])])])]):t._e(),t.wantToAbort?e("div",{staticClass:"popup"},[e("div",{staticClass:"popup__content"},[e("div",{staticClass:"popup__text"},[t._v("Выйти без сохранения?")]),e("div",{staticClass:"popup__navigation"},[e("button",{staticClass:"button button--left",on:{click:t.abortChanges}},[t._v("да")]),e("button",{staticClass:"button",on:{click:t.abortAbort}},[t._v("нет")])])])]):t._e()])},nt=[function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("div",{staticClass:"header"},[e("h2",{staticClass:"heading"},[t._v("редактирование заметки")])])}],st=(e("7db0"),{data:function(){return{note:{id:0,text:"",todos:[]},backup:"",changesBackup:"",isPopupNeeded:!1,wantToAbort:!1,showUndoRedo:!1}},computed:Object(m["a"])({},Object(l["c"])({notes:function(t){return t.notes.notes}})),mounted:function(){this.note.id,this.$route.params.note,this.findNote()},methods:Object(m["a"])(Object(m["a"])({},Object(l["b"])(["addNote","editNote","deleteNote"])),{},{addTodo:function(t){this.note.todos.push(t)},findNote:function(){var t=this,o=this.notes.find((function(o){return o.id==t.$route.params.note}));this.note=o,this.backup=this.note.text,this.changesBackup=this.note.text},saveChanges:function(){this.changesBackup=this.note.text,this.changesBackup!==this.backup&&(this.showUndoRedo=!0)},getBackup:function(){this.note.text=this.backup},undoBackup:function(){this.note.text=this.changesBackup},deleteTodo:function(t){this.note.todos=this.note.todos.filter((function(o){return o!==t}))},editTodo:function(t){this.note.todos=this.note.todos.map((function(o){return o.id===t.id&&(o=t),o}))},sendNote:function(){this.editNote(this.note),this.$router.go(-1)},openPopup:function(){this.isPopupNeeded=!0},closePopup:function(){this.isPopupNeeded=!1},grantPermission:function(){this.deleteNote(this.note),this.$router.go(-1)},startAbort:function(){this.wantToAbort=!0},abortChanges:function(){this.$router.go("-1")},abortAbort:function(){this.wantToAbort=!1}}),components:{todoList:z,todoInput:W}}),it=st,at=(e("cb73"),Object(d["a"])(it,et,nt,!1,null,"11d915ec",null)),ct=at.exports;n["a"].use(v["a"]);var dt=[{path:"",component:w},{path:"/edit/:note",component:ct},{path:"/edit",component:ot}],ut=new v["a"]({routes:dt,mode:"history"});n["a"].config.productionTip=!1,new n["a"]({store:h,router:ut,render:function(t){return t(r)}}).$mount("#app")},"5c0b":function(t,o,e){"use strict";var n=e("9c0c"),s=e.n(n);s.a},6594:function(t,o,e){},6848:function(t,o,e){},"6adb":function(t,o,e){"use strict";var n=e("247b"),s=e.n(n);s.a},"94b8":function(t,o,e){"use strict";var n=e("e664"),s=e.n(n);s.a},"9c0c":function(t,o,e){},cb73:function(t,o,e){"use strict";var n=e("0930"),s=e.n(n);s.a},db9f:function(t,o,e){"use strict";var n=e("6594"),s=e.n(n);s.a},e664:function(t,o,e){},e884:function(t,o,e){"use strict";var n=e("0d28"),s=e.n(n);s.a}});
//# sourceMappingURL=app.5b23752b.js.map